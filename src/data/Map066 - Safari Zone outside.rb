# Safari Zone outside (66)
map(
  autoplay_bgm: true,
  bgm: audio(name: "Safari Zone exterior", volume: 80),
  events: [

    event(
      id: 1,
      name: "Door",
      x: 12,
      y: 7,
      page_0: page(
        graphic: graphic(
          name: "doors7",
          pattern: 1,
        ),
        trigger: :player_touch,
        commands: [
          *move_route(
            this,
            route_play_se(audio(name: "Door slide")),
            route_wait(2),
            turn_left,
            route_wait(2),
            turn_right,
            route_wait(2),
            turn_up,
            route_wait(2),
            skippable: true,
          ),
          wait_completion,
          *move_route(
            player,
            through_on,
            move_up,
            through_off,
            skippable: true,
          ),
          wait_completion,
          change_transparent_flag(:transparent),
          script("Followers.follow_into_door"),
          wait_completion,
          *move_route(
            this,
            route_wait(2),
            turn_right,
            route_wait(2),
            turn_left,
            route_wait(2),
            turn_down,
            route_wait(2),
            skippable: true,
          ),
          wait_completion,
          change_tone(red: -255, green: -255, blue: -255, frames: 6),
          wait(8),
          change_transparent_flag(:normal),
          transfer_player(map: 67, x: 4, y: 7, direction: :up, fading: false),
          change_tone(red: 0, green: 0, blue: 0, frames: 6),
        ],
      ),
      page_1: page(
        switch1: s(22),
        graphic: graphic(
          name: "doors7",
          pattern: 1,
        ),
        trigger: :autorun,
        commands: [
          *condition(
            script: "get_self.onEvent?",
            then: [
              change_transparent_flag(:transparent),
              script("Followers.hide_followers"),
              *move_route(
                this,
                route_play_se(audio(name: "Door slide")),
                route_wait(2),
                turn_left,
                route_wait(2),
                turn_right,
                route_wait(2),
                turn_up,
                route_wait(2),
                skippable: true,
              ),
              wait_completion,
              change_transparent_flag(:normal),
              *move_route(
                player,
                move_down,
                skippable: true,
              ),
              wait_completion,
              script("Followers.put_followers_on_player"),
              *move_route(
                this,
                turn_right,
                route_wait(2),
                turn_left,
                route_wait(2),
                turn_down,
                route_wait(2),
                skippable: true,
              ),
              wait_completion,
            ],
          ),
          script("setTempSwitchOn(\"A\")"),
        ],
      ),
    ),

  ],
  data: table(
    x: 22,
    y: 21,
    z: 3,
    data: [
       808,  809,  808,  809,  808,  809,  808,  809,  808,  811,  385,  385,  385,  385,  385,  385,  810,  809,  808,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  801,  800,  803,  385,  385,  385,  385,  385,  385,  802,  801,  800,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  809,  808,  811,  385,  385,  385,  385,  385,  385,  810,  809,  808,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  801,  800,  803,  385,  385,  385,  385,  385,  385,  802,  801,  800,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  809,  808,  811,  385,  385,  385,  385,  385,  385,  810,  809,  808,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  803,  818,  819,  385,  385,  385,  385,  385,  385,  818,  819,  802,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  811,  386,  385,  385,  385,  385,  385,  385,  385,  385,  386,  810,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  803,  388,  389,  385,  385,  385,  385,  385,  385,  387,  389,  818,  819,  818,  819,
       808,  809,  808,  809,  808,  809,  808,  811,  386,  385,  387,  545,  546,  547,  389,  388,  386,  385,  385,  386,  388,  387,
       800,  801,  800,  801,  800,  801,  800,  803,  387,  389,  386,  553,  554,  555,  387,  385,  385,  387,  389,  385,  387,  385,
       808,  809,  808,  809,  808,  809,  808,  811,  390,  386,  387,  385,  388,  385,  386,  388,  388,  386,  388,  386,  385,  388,
       800,  801,  800,  801,  800,  801,  800,  803,  390,  390,  390,  389,  386,  387,  389,  387,  385,  387,  385,  387,  385,  385,
       808,  809,  808,  809,  808,  809,  808,  811,  390,  390,  390,  390,  390,  390,  390,  390,  390,  390,  810,  811,  810,  811,
       800,  801,  800,  801,  800,  801,  800,  803,  390,  390,  390,  390,  390,  390,  390,  390,  390,  390,  802,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  811,  810,  811,  810,  811,  810,  811,  810,  811,  810,  811,  810,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,
       800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,  800,  801,
       808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,  808,  809,

         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2640, 2641, 2641, 2642, 2643, 2644,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2640, 2641, 2641, 2642, 2643, 2644,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2640, 2641, 2641, 2642, 2643, 2644,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2640, 2641, 2641, 2642, 2643, 2644,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2640, 2641, 2641, 2642, 2643, 2644,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2672, 2673, 2674, 2675, 2676, 2677,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0, 1065, 1065, 2680, 2681, 2682, 2683, 2684, 2685, 1065, 1065,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2688, 2689, 2690, 2691, 2692, 2693,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 2697,    0, 2699,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0, 1680, 1682,    0,    0,    0, 1680, 1681, 1682,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,

         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,  804,  805,  804,  805,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,  804,  805,  804,  805,  804,  805,  804,  805,  804,  805,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    ],
  ),
)
